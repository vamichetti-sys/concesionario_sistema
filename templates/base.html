{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Concesionario{% endblock %}</title>

    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- SELECT2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <!-- FUENTE -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            background:#f4f6f9;
            margin:0;
            padding:0;
            font-size:14px;
            font-family:'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }

        /* =========================
           SIDEBAR
        ========================= */
        .sidebar {
            width:230px;
            height:100vh;
            position:fixed;
            background:#002855;
            color:white;
            padding-top:24px;
            z-index:1000;
        }

        .sidebar h4 {
            letter-spacing:1px;
        }

        .sidebar a {
            color:white;
            text-decoration:none;
            display:block;
            padding:12px 22px;
            font-weight:500;
            border-left:3px solid transparent;
            transition:all .15s ease;
        }

        .sidebar a:hover {
            background:rgba(255,255,255,0.12);
            border-left-color:#FF6C1A;
        }

        .sidebar a.active {
            background:rgba(255,255,255,0.18);
            border-left-color:#FF6C1A;
        }

        /* =========================
           TOPBAR
        ========================= */
        .topbar {
            height:60px;
            background:white;
            border-bottom:1px solid #e2e6ea;
            margin-left:230px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            padding:0 24px;
            box-shadow:0 2px 6px rgba(0,0,0,.04);
            position:relative;
            z-index:900;
        }

        /* =========================
           CONTENIDO
        ========================= */
        .content {
            margin-left:230px;
            padding:30px;
            position:relative;
            z-index:1100;
        }

        /* =========================
           CARDS
        ========================= */
        .card {
            border-radius:14px;
            border:1px solid #e1e5ea;
            box-shadow:0 4px 12px rgba(0,0,0,.04);
        }

        .card-clean {
            background:white;
            padding:20px;
            border-radius:12px;
            border:1px solid #e1e5ea;
            box-shadow:0 4px 10px rgba(0,0,0,.04);
        }

        /* =========================
           FORMULARIOS
        ========================= */
        .form-control,
        textarea,
        select {
            background-color:#f8fafc;
            border:1px solid #e2e8f0;
            border-radius:10px;
            font-size:14px;
        }

        .form-control:focus,
        textarea:focus,
        select:focus {
            border-color:#002855;
            box-shadow:0 0 0 .15rem rgba(0,40,85,.15);
        }

        label {
            font-weight:500;
            color:#495057;
            margin-bottom:4px;
        }

        /* =========================
           SELECT2 (FIX DEFINITIVO)
        ========================= */
        .select2-container {
            z-index:1200 !important;
        }

        .select2-container--default .select2-selection--single {
            height:42px;
            border-radius:10px;
            border:1px solid #e2e8f0;
            background:#f8fafc;
            padding:6px 10px;
        }

        .select2-container--default .select2-selection__rendered {
            line-height:28px;
            font-size:14px;
        }

        .select2-container--default .select2-selection__arrow {
            height:40px;
        }

        /* =========================
           TABLAS
        ========================= */
        table thead {
            background:#f4f6f8;
            color:#002855;
            font-weight:600;
        }

        table tbody tr:hover {
            background:#fafbfc;
        }

        table td, table th {
            padding:12px 14px;
            vertical-align:middle;
        }

        /* =========================
           BOTONES
        ========================= */
        .btn {
            border-radius:8px;
            font-size:13px;
            padding:6px 14px;
        }

        .btn-primary {
            background:#002855;
            border-color:#002855;
        }

        .btn-primary:hover {
            background:#001f42;
            border-color:#001f42;
        }

        .btn-outline-secondary {
            color:#555;
            border-color:#ccc;
        }

        .btn-outline-secondary:hover {
            background:#f0f0f0;
            color:#333;
        }

        /* =========================
           CHECKBOX
        ========================= */
        input[type="checkbox"] {
            width:18px;
            height:18px;
            cursor:pointer;
            accent-color:#002855;
        }

        /* =========================
           ALERTS
        ========================= */
        .alert {
            border-radius:10px;
            font-size:13px;
        }

        /* =========================
           TEXTOS
        ========================= */
        .text-muted {
            color:#6c757d !important;
        }

        /* =========================
           FIX DEFINITIVO EVENTOS (NO TOCAR)
        ========================= */
        .sidebar,
        .topbar {
            pointer-events:none;
        }

        .sidebar a,
        .topbar * {
            pointer-events:auto;
        }

        .content {
            pointer-events:auto;
        }
    </style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <h4 class="text-center fw-bold mb-4">AMICHETTI</h4>

    <a href="/inicio/">Inicio</a>
    <a href="/vehiculos/">Vehículos</a>
    <a href="/clientes/">Clientes</a>
    <a href="/cuentas/">Cuentas Corrientes</a>
    <a href="/ventas/">Ventas</a>
    <a href="/boletos/">Boletos</a>
    <a href="/gestoria/">Gestoría</a>
    <a href="/deudas/">Deuda</a>
    <a href="/calendario/">Calendario</a>
    <a href="/facturacion/">Facturación</a>
    <a href="/reportes/">Reportes</a>
    <a href="/asistencia/">Asistencia</a>
</div>

<!-- TOPBAR -->
<div class="topbar">
    <div class="fw-bold">
        {{ page_title|default:"Panel" }}
    </div>

    {% if user.is_authenticated %}
        <div class="text-muted">
            {{ user.username }}
        </div>
    {% endif %}
</div>

<!-- CONTENIDO -->
<div class="content">

    {% if messages %}
        {% for message in messages %}
            <div class="alert 
                {% if message.tags == 'success' %}alert-success
                {% elif message.tags == 'warning' %}alert-warning
                {% elif message.tags == 'error' %}alert-danger
                {% else %}alert-info{% endif %}
                alert-dismissible fade show" role="alert">

                {{ message }}

                <button type="button"
                        class="btn-close"
                        data-bs-dismiss="alert"></button>
            </div>
        {% endfor %}
    {% endif %}

    {% block content %}{% endblock %}
</div>

<!-- SCRIPTS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

{% block extra_js %}{% endblock %}

</body>
</html>
