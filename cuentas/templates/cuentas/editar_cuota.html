{% extends "base.html" %}

{% block title %}Editar Cuota{% endblock %}

{% block content %}
<div class="container-fluid">

    <!-- ===============================
         ENCABEZADO
    =============================== -->
    <div class="mb-4">
        <h2 class="fw-bold mb-1" style="color:#002855;">
            Editar cuota
        </h2>
        <p class="text-muted mb-0">
            Cliente: <strong>{{ cuenta.cliente }}</strong>
            {% if cuenta.venta %}
                · Venta: <strong>#{{ cuenta.venta.id }}</strong>
            {% endif %}
        </p>
    </div>

    <!-- ===============================
         FORMULARIO
    =============================== -->
    <form method="post"
          class="card shadow-sm border-0 rounded-4 p-4"
          style="max-width:520px;">

        {% csrf_token %}

        <!-- CUOTA -->
        <div class="mb-3">
            <label class="fw-semibold">Cuota Nº</label>
            <input type="text"
                   class="form-control"
                   value="{{ cuota.numero }}"
                   disabled>
        </div>

        <!-- MONTO (INFORMATIVO) -->
        <div class="mb-3">
            <label class="fw-semibold">Monto</label>
            <input type="text"
                   class="form-control"
                   value="$ {{ cuota.monto }}"
                   disabled>
        </div>

        <!-- VENCIMIENTO (EDITABLE) -->
        <div class="mb-4">
            <label class="fw-semibold">Vencimiento</label>
            {{ form.vencimiento }}
            {% if form.vencimiento.errors %}
                <div class="text-danger small mt-1">
                    {{ form.vencimiento.errors }}
                </div>
            {% endif %}
        </div>

        <!-- ESTADO -->
        <div class="mb-4">
            <label class="fw-semibold">Estado</label>
            <input type="text"
                   class="form-control"
                   value="{{ cuota.get_estado_display }}"
                   disabled>
        </div>

        <!-- ACCIONES -->
        <div class="d-flex gap-2">
            <button type="submit"
                    class="btn btn-primary rounded-pill px-4 fw-bold">
                Guardar fecha
            </button>

            <a href="{% url 'cuentas:cuenta_corriente_detalle' cuenta.id %}"
               class="btn btn-outline-secondary rounded-pill px-4 fw-bold">
                Cancelar
            </a>
        </div>

    </form>

</div>
{% endblock %}
